### Login
# @name login
POST http://127.0.0.1:8000/login
Content-Type: application/json

{
  "username": "superadmin",
  "password": "admin123"
}


###
@token = {{login.response.body.access_token}}

### Register an admin
POST http://127.0.0.1:8000/create_admin
Content-Type: application/json
Authorization: Bearer {{token}}

{
  "username": "admin2",
  "password": "admin",
  "name": "bob",
  "email": "test@example.com",
  "phone": "1234567890",
  "birth_year": "2002",
  "role": "admin"
}
### Logout
POST http://127.0.0.1:8000/logout
Authorization: Bearer {{token}}


### Create a new parking lot (admin only)
POST http://127.0.0.1:8000/parking-lots
Content-Type: application/json
Authorization: Bearer {{token}}

{
  "name": "Central Parking",
  "location": "Amsterdam",
  "address": "Damrak 1, 1012 LG Amsterdam",
  "capacity": 150,
  "tariff": 3.5,
  "daytariff": 25.0,
  "lat": 52.3676,
  "lng": 4.9041
}
### Assign parking lot to admin (superadmin only)
POST http://127.0.0.1:8000/admin/2/parking-lots/1/assign
Content-Type: application/json
Authorization: Bearer {{token}}

{}

### Get all parking lots
GET http://127.0.0.1:8000/parking-lots/
Authorization: Bearer {{token}}


### Get parking lot by ID
GET http://127.0.0.1:8000/parking-lots/1
Authorization: Bearer {{token}}


### Get parking lots by location
GET http://127.0.0.1:8000/parking-lots/location/Amsterdam
Authorization: Bearer {{token}}


### Get all sessions for a parking lot (admin only)
GET http://127.0.0.1:8000/parking-lots/1/sessions
Authorization: Bearer {{token}}


### Get specific session from parking lot (admin only)
GET http://127.0.0.1:8000/parking-lots/1/sessions/1
Authorization: Bearer {{token}}


### Update parking lot (admin only)
PUT http://127.0.0.1:8000/parking-lots/1
Content-Type: application/json
Authorization: Bearer {{token}}

{
  "id": 1,
  "name": "Updated Central Parking",
  "location": "Amsterdam Center",
  "address": "Damrak 10, 1012 LG Amsterdam",
  "capacity": 200,
  "reserved": 0,
  "tariff": 4.0,
  "daytariff": 30.0,
  "lat": 52.3676,
  "lng": 4.9041,
  "status": "open"
}


### Update parking lot status (admin only)
PUT http://127.0.0.1:8000/parking-lots/1/status?status=closed&closed_reason=Maintenance&closed_date=2024-01-01
Authorization: Bearer {{token}}


### Delete parking lot (superadmin only)
DELETE http://127.0.0.1:8000/parking-lots/1
Authorization: Bearer {{token}}

### 
